/*! Thumbnails - v0.105.30 - 2016-02-03 */function SimpleAppProto(a){var b=this;b.editMode=Wix.Utils.getViewMode(),b.deviceType=Wix.Utils.getDeviceType?Wix.Utils.getDeviceType():"desktop",b.isMobile="mobile"==b.deviceType,b.el=a,_.isFunction(b.updateSettings)||(b.updateSettings=function(){}),Wix.addEventListener(Wix.Events.SETTINGS_UPDATED,_.bind(b.handleSettingsEvent,b)),Wix.addEventListener(Wix.Events.EDIT_MODE_CHANGE,_.bind(b.handleEditModeEvent,b)),Wix.getSiteInfo(function(a){a&&a.url&&/editor.wix/.test(a.url)&&!/feedback=true/.test(a.url)?b.handleEditModeEvent({editMode:"editor"}):b.handleEditModeEvent({editMode:b.editMode})}),_.isFunction(b.destroy)&&Wix.addEventListener(Wix.Events.COMPONENT_DELETED,_.bind(b.destroy,b)),_.isFunction(b.navigate)&&Wix.addEventListener(Wix.Events.PAGE_NAVIGATION_CHANGE,_.bind(b.navigate,b)),_.isFunction(b.publish)&&Wix.addEventListener(Wix.Events.SITE_PUBLISHED,_.bind(b.publish,b)),_.isFunction(b.resize)&&$(window).on("resize",_.bind(b.resize,b)),Wix.pushState(JSON.stringify({cmd:"componentReady",id:Wix.Utils.getCompId()}))}function SimpleAppOverlay(a){var b=this;return b.overlay=$("<div></div>").appendTo("body"),b.el=a,b.hide(),b.overlay.on("click",function(){b.hide()}),b}!function(a,b){"use strict";function c(){if(!d.READY){d.event.determineEventTypes();for(var a in d.gestures)d.gestures.hasOwnProperty(a)&&d.detection.register(d.gestures[a]);d.event.onTouch(d.DOCUMENT,d.EVENT_MOVE,d.detection.detect),d.event.onTouch(d.DOCUMENT,d.EVENT_END,d.detection.detect),d.READY=!0}}var d=function(a,b){return new d.Instance(a,b||{})};d.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.HAS_POINTEREVENTS=a.navigator.pointerEnabled||a.navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&a.navigator.userAgent.match(d.MOBILE_REGEX),d.EVENT_TYPES={},d.DIRECTION_DOWN="down",d.DIRECTION_LEFT="left",d.DIRECTION_UP="up",d.DIRECTION_RIGHT="right",d.POINTER_MOUSE="mouse",d.POINTER_TOUCH="touch",d.POINTER_PEN="pen",d.EVENT_START="start",d.EVENT_MOVE="move",d.EVENT_END="end",d.DOCUMENT=a.document,d.plugins={},d.READY=!1,d.Instance=function(a,b){var e=this;return c(),this.element=a,this.enabled=!0,this.options=d.utils.extend(d.utils.extend({},d.defaults),b||{}),this.options.stop_browser_behavior&&d.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),d.event.onTouch(a,d.EVENT_START,function(a){e.enabled&&d.detection.startDetect(e,a)}),this},d.Instance.prototype={on:function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)this.element.addEventListener(c[d],b,!1);return this},off:function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)this.element.removeEventListener(c[d],b,!1);return this},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return d.utils.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this}};var e=null,f=!1,g=!1;d.event={bindDom:function(a,b,c){for(var d=b.split(" "),e=0;e<d.length;e++)a.addEventListener(d[e],c,!1)},onTouch:function(a,b,c){var h=this;this.bindDom(a,d.EVENT_TYPES[b],function(i){var j=i.type.toLowerCase();if(!j.match(/mouse/)||!g){j.match(/touch/)||j.match(/pointerdown/)||j.match(/mouse/)&&1===i.which?f=!0:j.match(/mouse/)&&1!==i.which&&(f=!1),j.match(/touch|pointer/)&&(g=!0);var k=0;f&&(d.HAS_POINTEREVENTS&&b!=d.EVENT_END?k=d.PointerEvent.updatePointer(b,i):j.match(/touch/)?k=i.touches.length:g||(k=j.match(/up/)?0:1),k>0&&b==d.EVENT_END?b=d.EVENT_MOVE:k||(b=d.EVENT_END),(k||null===e)&&(e=i),c.call(d.detection,h.collectEventData(a,b,h.getTouchList(e,b),i)),d.HAS_POINTEREVENTS&&b==d.EVENT_END&&(k=d.PointerEvent.updatePointer(b,i))),k||(e=null,f=!1,g=!1,d.PointerEvent.reset())}})},determineEventTypes:function(){var a;a=d.HAS_POINTEREVENTS?d.PointerEvent.getEvents():d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],d.EVENT_TYPES[d.EVENT_START]=a[0],d.EVENT_TYPES[d.EVENT_MOVE]=a[1],d.EVENT_TYPES[d.EVENT_END]=a[2]},getTouchList:function(a){return d.HAS_POINTEREVENTS?d.PointerEvent.getTouchList():a.touches?a.touches:(a.indentifier=1,[a])},collectEventData:function(a,b,c,e){var f=d.POINTER_TOUCH;return(e.type.match(/mouse/)||d.PointerEvent.matchType(d.POINTER_MOUSE,e))&&(f=d.POINTER_MOUSE),{center:d.utils.getCenter(c),timeStamp:(new Date).getTime(),target:e.target,touches:c,eventType:b,pointerType:f,srcEvent:e,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return d.detection.stopDetect()}}}},d.PointerEvent={pointers:{},getTouchList:function(){var a=this,b=[];return Object.keys(a.pointers).sort().forEach(function(c){b.push(a.pointers[c])}),b},updatePointer:function(a,b){return a==d.EVENT_END?this.pointers={}:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b),Object.keys(this.pointers).length},matchType:function(a,b){if(!b.pointerType)return!1;var c={};return c[d.POINTER_MOUSE]=b.pointerType==b.MSPOINTER_TYPE_MOUSE||b.pointerType==d.POINTER_MOUSE,c[d.POINTER_TOUCH]=b.pointerType==b.MSPOINTER_TYPE_TOUCH||b.pointerType==d.POINTER_TOUCH,c[d.POINTER_PEN]=b.pointerType==b.MSPOINTER_TYPE_PEN||b.pointerType==d.POINTER_PEN,c[a]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},d.utils={extend:function(a,c,d){for(var e in c)a[e]!==b&&d||(a[e]=c[e]);return a},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){for(var b=[],c=[],d=0,e=a.length;e>d;d++)b.push(a[d].pageX),c.push(a[d].pageY);return{pageX:(Math.min.apply(Math,b)+Math.max.apply(Math,b))/2,pageY:(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.pageX-b.pageX),e=Math.abs(a.pageY-b.pageY);return c>=e?a.pageX-b.pageX>0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT:a.pageY-b.pageY>0?d.DIRECTION_UP:d.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==d.DIRECTION_UP||a==d.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){var c,d=["webkit","khtml","moz","Moz","ms","o",""];if(b&&a.style){for(var e=0;e<d.length;e++)for(var f in b)b.hasOwnProperty(f)&&(c=f,d[e]&&(c=d[e]+c.substring(0,1).toUpperCase()+c.substring(1)),a.style[c]=b[f]);"none"==b.userSelect&&(a.onselectstart=function(){return!1}),"none"==b.userDrag&&(a.ondragstart=function(){return!1})}}},d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:d.utils.extend({},b),lastEvent:!1,name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);for(var b=this.current.inst.options,c=0,e=this.gestures.length;e>c;c++){var f=this.gestures[c];if(!this.stopped&&b[f.name]!==!1&&f.handler.call(f,a,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=a),a.eventType==d.EVENT_END&&!a.touches.length-1&&this.stopDetect(),a}},stopDetect:function(){this.previous=d.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(a){var b=this.current.startEvent;if(b&&(a.touches.length!=b.touches.length||a.touches===b.touches)){b.touches=[];for(var c=0,e=a.touches.length;e>c;c++)b.touches.push(d.utils.extend({},a.touches[c]))}var f=a.timeStamp-b.timeStamp,g=a.center.pageX-b.center.pageX,h=a.center.pageY-b.center.pageY,i=d.utils.getVelocity(f,g,h);return d.utils.extend(a,{deltaTime:f,deltaX:g,deltaY:h,velocityX:i.x,velocityY:i.y,distance:d.utils.getDistance(b.center,a.center),angle:d.utils.getAngle(b.center,a.center),interimAngle:this.current.lastEvent&&d.utils.getAngle(this.current.lastEvent.center,a.center),direction:d.utils.getDirection(b.center,a.center),interimDirection:this.current.lastEvent&&d.utils.getDirection(this.current.lastEvent.center,a.center),scale:d.utils.getScale(b.touches,a.touches),rotation:d.utils.getRotation(b.touches,a.touches),startEvent:b}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),d.utils.extend(d.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},d.gestures=d.gestures||{},d.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(a,b){switch(a.eventType){case d.EVENT_START:clearTimeout(this.timer),d.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==d.detection.current.name&&b.trigger("hold",a)},b.options.hold_timeout);break;case d.EVENT_MOVE:a.distance>b.options.hold_threshold&&clearTimeout(this.timer);break;case d.EVENT_END:clearTimeout(this.timer)}}},d.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(a,b){if(a.eventType==d.EVENT_END&&"touchcancel"!=a.srcEvent.type){var c=d.detection.previous,e=!1;if(a.deltaTime>b.options.tap_max_touchtime||a.distance>b.options.tap_max_distance)return;c&&"tap"==c.name&&a.timeStamp-c.lastEvent.timeStamp<b.options.doubletap_interval&&a.distance<b.options.doubletap_distance&&(b.trigger("doubletap",a),e=!0),(!e||b.options.tap_always)&&(d.detection.current.name="tap",b.trigger(d.detection.current.name,a))}}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(a,b){if(a.eventType==d.EVENT_END){if(b.options.swipe_max_touches>0&&a.touches.length<b.options.swipe_min_touches&&a.touches.length>b.options.swipe_max_touches)return;(a.velocityX>b.options.swipe_velocity||a.velocityY>b.options.swipe_velocity)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},d.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(a,b){if(d.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(b.options.drag_max_touches>0&&a.touches.length>b.options.drag_max_touches))switch(a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:if(a.distance<b.options.drag_min_distance&&d.detection.current.name!=this.name)return;if(d.detection.current.name!=this.name&&(d.detection.current.name=this.name,b.options.correct_for_drag_min_distance)){var c=Math.abs(b.options.drag_min_distance/a.distance);d.detection.current.startEvent.center.pageX+=a.deltaX*c,d.detection.current.startEvent.center.pageY+=a.deltaY*c,a=d.detection.extendEventData(a)}(d.detection.current.lastEvent.drag_locked_to_axis||b.options.drag_lock_to_axis&&b.options.drag_lock_min_distance<=a.distance)&&(a.drag_locked_to_axis=!0);var e=d.detection.current.lastEvent.direction;a.drag_locked_to_axis&&e!==a.direction&&(d.utils.isVertical(e)?a.direction=a.deltaY<0?d.DIRECTION_UP:d.DIRECTION_DOWN:a.direction=a.deltaX<0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT),this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),b.trigger(this.name+a.direction,a),(b.options.drag_block_vertical&&d.utils.isVertical(a.direction)||b.options.drag_block_horizontal&&!d.utils.isVertical(a.direction))&&a.preventDefault();break;case d.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},d.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(a,b){if(d.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(a.touches.length<2))switch(b.options.transform_always_block&&a.preventDefault(),a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:var c=Math.abs(1-a.scale),e=Math.abs(a.rotation);if(c<b.options.transform_min_scale&&e<b.options.transform_min_rotation)return;d.detection.current.name=this.name,this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),e>b.options.transform_min_rotation&&b.trigger("rotate",a),c>b.options.transform_min_scale&&(b.trigger("pinch",a),b.trigger("pinch"+(a.scale<1?"in":"out"),a));break;case d.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},d.gestures.Touch={name:"touch",index:-(1/0),defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(a,b){return b.options.prevent_mouseevents&&a.pointerType==d.POINTER_MOUSE?void a.stopDetect():(b.options.prevent_default&&a.preventDefault(),void(a.eventType==d.EVENT_START&&b.trigger(this.name,a)))}},d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==d.EVENT_END&&b.trigger(this.name,a)}};var h=function(a,c){return c===b?a:(a.event.bindDom=function(a,d,e){c(a).on(d,function(a){var c=a.originalEvent||a;c.pageX===b&&(c.pageX=a.pageX,c.pageY=a.pageY),c.target||(c.target=a.target),c.which===b&&(c.which=c.button),c.preventDefault||(c.preventDefault=a.preventDefault),c.stopPropagation||(c.stopPropagation=a.stopPropagation),e.call(this,c)})},a.Instance.prototype.on=function(a,b){return c(this.element).on(a,b)},a.Instance.prototype.off=function(a,b){return c(this.element).off(a,b)},a.Instance.prototype.trigger=function(a,b){var d=c(this.element);return d.has(b.target).length&&(d=c(b.target)),d.trigger({type:a,gesture:b})},void(c.fn.hammer=function(b){return this.each(function(){var d=c(this),e=d.data("hammer");e?e&&b&&a.utils.extend(e.options,b):d.data("hammer",new a(this,b||{}))})}))};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(["jquery"],function(a){h(d,a)}):h(d,a.jQuery||a.Zepto)}(this),function(a){"use strict";function b(a){return(a||"").toLowerCase()}var c="20130725";a.fn.cycle=function(c){var d;return 0!==this.length||a.isReady?this.each(function(){var d,e,f,g,h=a(this),i=a.fn.cycle.log;if(!h.data("cycle.opts")){(h.data("cycle-log")===!1||c&&c.log===!1||e&&e.log===!1)&&(i=a.noop),i("--c2 init--"),d=h.data();for(var j in d)d.hasOwnProperty(j)&&/^cycle[A-Z]+/.test(j)&&(g=d[j],f=j.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),i(f+":",g,"("+typeof g+")"),d[f]=g);e=a.extend({},a.fn.cycle.defaults,d,c||{}),e.timeoutId=0,e.paused=e.paused||!1,e.container=h,e._maxZ=e.maxZ,e.API=a.extend({_container:h},a.fn.cycle.API),e.API.log=i,e.API.trigger=function(a,b){return e.container.trigger(a,b),e.API},h.data("cycle.opts",e),h.data("cycle.API",e.API),e.API.trigger("cycle-bootstrap",[e,e.API]),e.API.addInitialSlides(),e.API.preInitSlideshow(),e.slides.length&&e.API.initSlideshow()}}):(d={s:this.selector,c:this.context},a.fn.cycle.log("requeuing slideshow (dom not ready)"),a(function(){a(d.s,d.c).cycle(c)}),this)},a.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var b=this.opts(),c=b.slides;b.slideCount=0,b.slides=a(),c=c.jquery?c:b.container.find(c),b.random&&c.sort(function(){return Math.random()-.5}),b.API.add(c)},preInitSlideshow:function(){var b=this.opts();b.API.trigger("cycle-pre-initialize",[b]);var c=a.fn.cycle.transitions[b.fx];c&&a.isFunction(c.preInit)&&c.preInit(b),b._preInitialized=!0},postInitSlideshow:function(){var b=this.opts();b.API.trigger("cycle-post-initialize",[b]);var c=a.fn.cycle.transitions[b.fx];c&&a.isFunction(c.postInit)&&c.postInit(b)},initSlideshow:function(){var b,c=this.opts(),d=c.container;c.API.calcFirstSlide(),"static"==c.container.css("position")&&c.container.css("position","relative"),a(c.slides[c.currSlide]).css("opacity",1).show(),c.API.stackSlides(c.slides[c.currSlide],c.slides[c.nextSlide],!c.reverse),c.pauseOnHover&&(c.pauseOnHover!==!0&&(d=a(c.pauseOnHover)),d.hover(function(){c.API.pause(!0)},function(){c.API.resume(!0)})),c.timeout&&(b=c.API.getSlideOpts(c.nextSlide),c.API.queueTransition(b,b.timeout+c.delay)),c._initialized=!0,c.API.updateView(!0),c.API.trigger("cycle-initialized",[c]),c.API.postInitSlideshow()},pause:function(b){var c=this.opts(),d=c.API.getSlideOpts(),e=c.hoverPaused||c.paused;b?c.hoverPaused=!0:c.paused=!0,e||(c.container.addClass("cycle-paused"),c.API.trigger("cycle-paused",[c]).log("cycle-paused"),d.timeout&&(clearTimeout(c.timeoutId),c.timeoutId=0,c._remainingTimeout-=a.now()-c._lastQueue,(0>c._remainingTimeout||isNaN(c._remainingTimeout))&&(c._remainingTimeout=void 0)))},resume:function(a){var b=this.opts(),c=!b.hoverPaused&&!b.paused;a?b.hoverPaused=!1:b.paused=!1,c||(b.container.removeClass("cycle-paused"),0===b.slides.filter(":animated").length&&b.API.queueTransition(b.API.getSlideOpts(),b._remainingTimeout),b.API.trigger("cycle-resumed",[b,b._remainingTimeout]).log("cycle-resumed"))},add:function(b,c){var d,e=this.opts(),f=e.slideCount,g=!1;"string"==a.type(b)&&(b=a.trim(b)),a(b).each(function(){var b,d=a(this);c?e.container.prepend(d):e.container.append(d),e.slideCount++,b=e.API.buildSlideOpts(d),e.slides=c?a(d).add(e.slides):e.slides.add(d),e.API.initSlide(b,d,--e._maxZ),d.data("cycle.opts",b),e.API.trigger("cycle-slide-added",[e,b,d])}),e.API.updateView(!0),g=e._preInitialized&&2>f&&e.slideCount>=1,g&&(e._initialized?e.timeout&&(d=e.slides.length,e.nextSlide=e.reverse?d-1:1,e.timeoutId||e.API.queueTransition(e)):e.API.initSlideshow())},calcFirstSlide:function(){var a,b=this.opts();a=parseInt(b.startingSlide||0,10),(a>=b.slides.length||0>a)&&(a=0),b.currSlide=a,b.reverse?(b.nextSlide=a-1,0>b.nextSlide&&(b.nextSlide=b.slides.length-1)):(b.nextSlide=a+1,b.nextSlide==b.slides.length&&(b.nextSlide=0))},calcNextSlide:function(){var a,b=this.opts();b.reverse?(a=0>b.nextSlide-1,b.nextSlide=a?b.slideCount-1:b.nextSlide-1,b.currSlide=a?0:b.nextSlide+1):(a=b.nextSlide+1==b.slides.length,b.nextSlide=a?0:b.nextSlide+1,b.currSlide=a?b.slides.length-1:b.nextSlide-1)},calcTx:function(b,c){var d,e=b;return c&&e.manualFx&&(d=a.fn.cycle.transitions[e.manualFx]),d||(d=a.fn.cycle.transitions[e.fx]),d||(d=a.fn.cycle.transitions.fade,e.API.log('Transition "'+e.fx+'" not found.  Using fade.')),d},prepareTx:function(a,b){var c,d,e,f,g,h=this.opts();return 2>h.slideCount?void(h.timeoutId=0):(!a||h.busy&&!h.manualTrump||(h.API.stopTransition(),h.busy=!1,clearTimeout(h.timeoutId),h.timeoutId=0),void(h.busy||(0!==h.timeoutId||a)&&(d=h.slides[h.currSlide],e=h.slides[h.nextSlide],f=h.API.getSlideOpts(h.nextSlide),g=h.API.calcTx(f,a),h._tx=g,a&&void 0!==f.manualSpeed&&(f.speed=f.manualSpeed),h.nextSlide!=h.currSlide&&(a||!h.paused&&!h.hoverPaused&&h.timeout)?(h.API.trigger("cycle-before",[f,d,e,b]),g.before&&g.before(f,d,e,b),c=function(){h.busy=!1,h.container.data("cycle.opts")&&(g.after&&g.after(f,d,e,b),h.API.trigger("cycle-after",[f,d,e,b]),h.API.queueTransition(f),h.API.updateView(!0))},h.busy=!0,g.transition?g.transition(f,d,e,b,c):h.API.doTransition(f,d,e,b,c),h.API.calcNextSlide(),h.API.updateView()):h.API.queueTransition(f))))},doTransition:function(b,c,d,e,f){var g=b,h=a(c),i=a(d),j=function(){i.animate(g.animIn||{opacity:1},g.speed,g.easeIn||g.easing,f)};i.css(g.cssBefore||{}),h.animate(g.animOut||{},g.speed,g.easeOut||g.easing,function(){h.css(g.cssAfter||{}),g.sync||j()}),g.sync&&j()},queueTransition:function(b,c){var d=this.opts(),e=void 0!==c?c:b.timeout;return 0===d.nextSlide&&0===--d.loop?(d.API.log("terminating; loop=0"),d.timeout=0,e?setTimeout(function(){d.API.trigger("cycle-finished",[d])},e):d.API.trigger("cycle-finished",[d]),void(d.nextSlide=d.currSlide)):void(e&&(d._lastQueue=a.now(),void 0===c&&(d._remainingTimeout=b.timeout),d.paused||d.hoverPaused||(d.timeoutId=setTimeout(function(){d.API.prepareTx(!1,!d.reverse)},e))))},stopTransition:function(){var a=this.opts();a.slides.filter(":animated").length&&(a.slides.stop(!1,!0),a.API.trigger("cycle-transition-stopped",[a])),a._tx&&a._tx.stopTransition&&a._tx.stopTransition(a)},advanceSlide:function(a){var b=this.opts();return clearTimeout(b.timeoutId),b.timeoutId=0,b.nextSlide=b.currSlide+a,0>b.nextSlide?b.nextSlide=b.slides.length-1:b.nextSlide>=b.slides.length&&(b.nextSlide=0),b.API.prepareTx(!0,a>=0),!1},buildSlideOpts:function(c){var d,e,f=this.opts(),g=c.data()||{};for(var h in g)g.hasOwnProperty(h)&&/^cycle[A-Z]+/.test(h)&&(d=g[h],e=h.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),f.API.log("["+(f.slideCount-1)+"]",e+":",d,"("+typeof d+")"),g[e]=d);g=a.extend({},a.fn.cycle.defaults,f,g),g.slideNum=f.slideCount;try{delete g.API,delete g.slideCount,delete g.currSlide,delete g.nextSlide,delete g.slides}catch(i){}return g},getSlideOpts:function(b){var c=this.opts();void 0===b&&(b=c.currSlide);var d=c.slides[b],e=a(d).data("cycle.opts");return a.extend({},c,e)},initSlide:function(b,c,d){var e=this.opts();c.css(b.slideCss||{}),d>0&&c.css("zIndex",d),isNaN(b.speed)&&(b.speed=a.fx.speeds[b.speed]||a.fx.speeds._default),b.sync||(b.speed=b.speed/2),c.addClass(e.slideClass)},updateView:function(a){var b=this.opts();if(b._initialized){var c=b.API.getSlideOpts(),d=b.slides[b.currSlide];!a&&(b.API.trigger("cycle-update-view-before",[b,c,d]),0>b.updateView)||(b.slideActiveClass&&b.slides.removeClass(b.slideActiveClass).eq(b.currSlide).addClass(b.slideActiveClass),a&&b.hideNonActive&&b.slides.filter(":not(."+b.slideActiveClass+")").hide(),b.API.trigger("cycle-update-view",[b,c,d,a]),b.API.trigger("cycle-update-view-after",[b,c,d]))}},getComponent:function(b){var c=this.opts(),d=c[b];return"string"==typeof d?/^\s*[\>|\+|~]/.test(d)?c.container.find(d):a(d):d.jquery?d:a(d)},stackSlides:function(b,c,d){var e=this.opts();b||(b=e.slides[e.currSlide],c=e.slides[e.nextSlide],d=!e.reverse),a(b).css("zIndex",e.maxZ);var f,g=e.maxZ-2,h=e.slideCount;if(d){for(f=e.currSlide+1;h>f;f++)a(e.slides[f]).css("zIndex",g--);for(f=0;e.currSlide>f;f++)a(e.slides[f]).css("zIndex",g--)}else{for(f=e.currSlide-1;f>=0;f--)a(e.slides[f]).css("zIndex",g--);for(f=h-1;f>e.currSlide;f--)a(e.slides[f]).css("zIndex",g--)}a(c).css("zIndex",e.maxZ-1)},getSlideIndex:function(a){return this.opts().slides.index(a)}},a.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},a.fn.cycle.version=function(){return"Cycle2: "+c},a.fn.cycle.transitions={custom:{},none:{before:function(a,b,c,d){a.API.stackSlides(c,b,d),a.cssBefore={opacity:1,display:"block"}}},fade:{before:function(b,c,d,e){var f=b.API.getSlideOpts(b.nextSlide).slideCss||{};b.API.stackSlides(c,d,e),b.cssBefore=a.extend(f,{opacity:0,display:"block"}),b.animIn={opacity:1},b.animOut={opacity:0}}},fadeout:{before:function(b,c,d,e){var f=b.API.getSlideOpts(b.nextSlide).slideCss||{};b.API.stackSlides(c,d,e),b.cssBefore=a.extend(f,{opacity:1,display:"block"}),b.animOut={opacity:0}}},scrollHorz:{before:function(a,b,c,d){a.API.stackSlides(b,c,d);var e=a.container.css("overflow","hidden").width();a.cssBefore={left:d?e:-e,top:0,opacity:1,display:"block"},a.cssAfter={zIndex:a._maxZ-2,left:0},a.animIn={left:0},a.animOut={left:d?-e:e}}}},a.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:-1},a(document).ready(function(){a(a.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function(a){"use strict";function b(b,d){var e,f,g,h=d.autoHeight;if("container"==h)f=a(d.slides[d.currSlide]).outerHeight(),d.container.height(f);else if(d._autoHeightRatio)d.container.height(d.container.width()/d._autoHeightRatio);else if("calc"===h||"number"==a.type(h)&&h>=0){if(g="calc"===h?c(b,d):h>=d.slides.length?0:h,g==d._sentinelIndex)return;d._sentinelIndex=g,d._sentinel&&d._sentinel.remove(),e=a(d.slides[g].cloneNode(!0)),e.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),e.css({position:"static",visibility:"hidden",display:"block"}).prependTo(d.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),e.find("*").css("visibility","hidden"),d._sentinel=e}}function c(b,c){var d=0,e=-1;return c.slides.each(function(b){var c=a(this).height();c>e&&(e=c,d=b)}),d}function d(b,c,d,e){var f=a(e).outerHeight(),g=c.sync?c.speed/2:c.speed;c.container.animate({height:f},g)}function e(c,f){f._autoHeightOnResize&&(a(window).off("resize orientationchange",f._autoHeightOnResize),f._autoHeightOnResize=null),f.container.off("cycle-slide-added cycle-slide-removed",b),f.container.off("cycle-destroyed",e),f.container.off("cycle-before",d),f._sentinel&&(f._sentinel.remove(),f._sentinel=null)}a.extend(a.fn.cycle.defaults,{autoHeight:0}),a(document).on("cycle-initialized",function(c,f){function g(){b(c,f)}var h,i=f.autoHeight,j=a.type(i),k=null;("string"===j||"number"===j)&&(f.container.on("cycle-slide-added cycle-slide-removed",b),f.container.on("cycle-destroyed",e),"container"==i?f.container.on("cycle-before",d):"string"===j&&/\d+\:\d+/.test(i)&&(h=i.match(/(\d+)\:(\d+)/),h=h[1]/h[2],f._autoHeightRatio=h),"number"!==j&&(f._autoHeightOnResize=function(){clearTimeout(k),k=setTimeout(g,50)},a(window).on("resize orientationchange",f._autoHeightOnResize)),setTimeout(g,30))})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),a(document).on("cycle-update-view",function(b,c,d,e){"caption"===c.captionModule&&a.each(["caption","overlay"],function(){var a=this,b=d[a+"Template"],f=c.API.getComponent(a);f.length&&b?(f.html(c.API.tmpl(b,d,c,e)),f.show()):f.hide()})}),a(document).on("cycle-destroyed",function(b,c){var d;a.each(["caption","overlay"],function(){var a=this,b=c[a+"Template"];c[a]&&b&&(d=c.API.getComponent("caption"),d.empty())})})}(jQuery),function(a){"use strict";var b=a.fn.cycle;a.fn.cycle=function(c){var d,e,f,g=a.makeArray(arguments);return"number"==a.type(c)?this.cycle("goto",c):"string"==a.type(c)?this.each(function(){var h;return d=c,f=a(this).data("cycle.opts"),void 0===f?void b.log('slideshow must be initialized before sending commands; "'+d+'" ignored'):(d="goto"==d?"jump":d,e=f.API[d],a.isFunction(e)?(h=a.makeArray(g),h.shift(),e.apply(f.API,h)):void b.log("unknown command: ",d))}):b.apply(this,arguments)},a.extend(a.fn.cycle,b),a.extend(b.API,{next:function(){var a=this.opts();if(!a.busy||a.manualTrump){var b=a.reverse?-1:1;a.allowWrap===!1&&a.currSlide+b>=a.slideCount||(a.API.advanceSlide(b),a.API.trigger("cycle-next",[a]).log("cycle-next"))}},prev:function(){var a=this.opts();if(!a.busy||a.manualTrump){var b=a.reverse?1:-1;a.allowWrap===!1&&0>a.currSlide+b||(a.API.advanceSlide(b),a.API.trigger("cycle-prev",[a]).log("cycle-prev"))}},destroy:function(){this.stop();var b=this.opts(),c=a.isFunction(a._data)?a._data:a.noop;clearTimeout(b.timeoutId),b.timeoutId=0,b.API.stop(),b.API.trigger("cycle-destroyed",[b]).log("cycle-destroyed"),b.container.removeData(),c(b.container[0],"parsedAttrs",!1),b.retainStylesOnDestroy||(b.container.removeAttr("style"),b.slides.removeAttr("style"),b.slides.removeClass(b.slideActiveClass)),b.slides.each(function(){a(this).removeData(),c(this,"parsedAttrs",!1)})},jump:function(a){var b,c=this.opts();if(!c.busy||c.manualTrump){var d=parseInt(a,10);if(isNaN(d)||0>d||d>=c.slides.length)return void c.API.log("goto: invalid slide index: "+d);if(d==c.currSlide)return void c.API.log("goto: skipping, already on slide",d);c.nextSlide=d,clearTimeout(c.timeoutId),c.timeoutId=0,c.API.log("goto: ",d," (zero-index)"),b=c.currSlide<c.nextSlide,c.API.prepareTx(!0,b)}},stop:function(){var b=this.opts(),c=b.container;clearTimeout(b.timeoutId),b.timeoutId=0,b.API.stopTransition(),b.pauseOnHover&&(b.pauseOnHover!==!0&&(c=a(b.pauseOnHover)),c.off("mouseenter mouseleave")),b.API.trigger("cycle-stopped",[b]).log("cycle-stopped")},reinit:function(){var a=this.opts();a.API.destroy(),a.container.cycle()},remove:function(b){for(var c,d,e=this.opts(),f=[],g=1,h=0;e.slides.length>h;h++)c=e.slides[h],h==b?d=c:(f.push(c),a(c).data("cycle.opts").slideNum=g,g++);d&&(e.slides=a(f),e.slideCount--,a(d).remove(),b==e.currSlide?e.API.advanceSlide(1):e.currSlide>b?e.currSlide--:e.currSlide++,e.API.trigger("cycle-slide-removed",[e,b,d]).log("cycle-slide-removed"),e.API.updateView())}}),a(document).on("click.cycle","[data-cycle-cmd]",function(b){b.preventDefault();var c=a(this),d=c.data("cycle-cmd"),e=c.data("cycle-context")||".cycle-slideshow";a(e).cycle(d,c.data("cycle-arg"))})}(jQuery),function(a){"use strict";function b(b,c){var d;return b._hashFence?void(b._hashFence=!1):(d=window.location.hash.substring(1),void b.slides.each(function(e){return a(this).data("cycle-hash")==d?(c===!0?b.startingSlide=e:(b.nextSlide=e,b.API.prepareTx(!0,!1)),!1):void 0}))}a(document).on("cycle-pre-initialize",function(c,d){b(d,!0),d._onHashChange=function(){b(d,!1)},a(window).on("hashchange",d._onHashChange)}),a(document).on("cycle-update-view",function(a,b,c){c.hash&&"#"+c.hash!=window.location.hash&&(b._hashFence=!0,window.location.hash=c.hash)}),a(document).on("cycle-destroyed",function(b,c){c._onHashChange&&a(window).off("hashchange",c._onHashChange)})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{loader:!1}),a(document).on("cycle-bootstrap",function(b,c){function d(b,d){function f(b){var f;"wait"==c.loader?(h.push(b),0===j&&(h.sort(g),e.apply(c.API,[h,d]),c.container.removeClass("cycle-loading"))):(f=a(c.slides[c.currSlide]),e.apply(c.API,[b,d]),f.show(),c.container.removeClass("cycle-loading"))}function g(a,b){return a.data("index")-b.data("index")}var h=[];if("string"==a.type(b))b=a.trim(b);else if("array"===a.type(b))for(var i=0;b.length>i;i++)b[i]=a(b[i])[0];b=a(b);var j=b.length;j&&(b.hide().appendTo("body").each(function(b){function g(){0===--i&&(--j,f(k))}var i=0,k=a(this),l=k.is("img")?k:k.find("img");return k.data("index",b),l=l.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),l.length?(i=l.length,void l.each(function(){this.complete?g():a(this).load(function(){g()}).error(function(){0===--i&&(c.API.log("slide skipped; img not loaded:",this.src),0===--j&&"wait"==c.loader&&e.apply(c.API,[h,d]))})})):(--j,void h.push(k))}),j&&c.container.addClass("cycle-loading"))}var e;c.loader&&(e=c.API.add,c.API.add=d)})}(jQuery),function(a){"use strict";function b(b,c,d){var e,f=b.API.getComponent("pager");f.each(function(){var f=a(this);if(c.pagerTemplate){var g=b.API.tmpl(c.pagerTemplate,c,b,d[0]);e=a(g).appendTo(f)}else e=f.children().eq(b.slideCount-1);e.on(b.pagerEvent,function(a){a.preventDefault(),b.API.page(f,a.currentTarget)})})}function c(a,b){var c=this.opts();if(!c.busy||c.manualTrump){var d=a.children().index(b),e=d,f=e>c.currSlide;c.currSlide!=e&&(c.nextSlide=e,c.API.prepareTx(!0,f),c.API.trigger("cycle-pager-activated",[c,a,b]))}}a.extend(a.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerTemplate:"<span>&bull;</span>"}),a(document).on("cycle-bootstrap",function(a,c,d){
d.buildPagerLink=b}),a(document).on("cycle-slide-added",function(a,b,d,e){b.pager&&(b.API.buildPagerLink(b,d,e),b.API.page=c)}),a(document).on("cycle-slide-removed",function(b,c,d){if(c.pager){var e=c.API.getComponent("pager");e.each(function(){var b=a(this);a(b.children()[d]).remove()})}}),a(document).on("cycle-update-view",function(b,c){var d;c.pager&&(d=c.API.getComponent("pager"),d.each(function(){a(this).children().removeClass(c.pagerActiveClass).eq(c.currSlide).addClass(c.pagerActiveClass)}))}),a(document).on("cycle-destroyed",function(a,b){var c=b.API.getComponent("pager");c&&(c.children().off(b.pagerEvent),b.pagerTemplate&&c.empty())})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),a(document).on("cycle-initialized",function(a,b){if(b.API.getComponent("next").on(b.nextEvent,function(a){a.preventDefault(),b.API.next()}),b.API.getComponent("prev").on(b.prevEvent,function(a){a.preventDefault(),b.API.prev()}),b.swipe){var c=b.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",d=b.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";b.container.on(c,function(){b.API.next()}),b.container.on(d,function(){b.API.prev()})}}),a(document).on("cycle-update-view",function(a,b){if(!b.allowWrap){var c=b.disabledClass,d=b.API.getComponent("next"),e=b.API.getComponent("prev"),f=b._prevBoundry||0,g=void 0!==b._nextBoundry?b._nextBoundry:b.slideCount-1;b.currSlide==g?d.addClass(c).prop("disabled",!0):d.removeClass(c).prop("disabled",!1),b.currSlide===f?e.addClass(c).prop("disabled",!0):e.removeClass(c).prop("disabled",!1)}}),a(document).on("cycle-destroyed",function(a,b){b.API.getComponent("prev").off(b.nextEvent),b.API.getComponent("next").off(b.prevEvent),b.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{progressive:!1}),a(document).on("cycle-pre-initialize",function(b,c){if(c.progressive){var d,e,f=c.API,g=f.next,h=f.prev,i=f.prepareTx,j=a.type(c.progressive);if("array"==j)d=c.progressive;else if(a.isFunction(c.progressive))d=c.progressive(c);else if("string"==j){if(e=a(c.progressive),d=a.trim(e.html()),!d)return;if(/^(\[)/.test(d))try{d=a.parseJSON(d)}catch(k){return void f.log("error parsing progressive slides",k)}else d=d.split(RegExp(e.data("cycle-split")||"\n")),d[d.length-1]||d.pop()}i&&(f.prepareTx=function(a,b){var e,f;return a||0===d.length?void i.apply(c.API,[a,b]):void(b&&c.currSlide==c.slideCount-1?(f=d[0],d=d.slice(1),c.container.one("cycle-slide-added",function(a,b){setTimeout(function(){b.API.advanceSlide(1)},50)}),c.API.add(f)):b||0!==c.currSlide?i.apply(c.API,[a,b]):(e=d.length-1,f=d[e],d=d.slice(0,e),c.container.one("cycle-slide-added",function(a,b){setTimeout(function(){b.currSlide=1,b.API.advanceSlide(-1)},50)}),c.API.add(f,!0)))}),g&&(f.next=function(){var a=this.opts();if(d.length&&a.currSlide==a.slideCount-1){var b=d[0];d=d.slice(1),a.container.one("cycle-slide-added",function(a,b){g.apply(b.API),b.container.removeClass("cycle-loading")}),a.container.addClass("cycle-loading"),a.API.add(b)}else g.apply(a.API)}),h&&(f.prev=function(){var a=this.opts();if(d.length&&0===a.currSlide){var b=d.length-1,c=d[b];d=d.slice(0,b),a.container.one("cycle-slide-added",function(a,b){b.currSlide=1,b.API.advanceSlide(-1),b.container.removeClass("cycle-loading")}),a.container.addClass("cycle-loading"),a.API.add(c,!0)}else h.apply(a.API)})}})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),a.extend(a.fn.cycle.API,{tmpl:function(b,c){var d=RegExp(c.tmplRegex||a.fn.cycle.defaults.tmplRegex,"g"),e=a.makeArray(arguments);return e.shift(),b.replace(d,function(b,c){var d,f,g,h,i=c.split(".");for(d=0;e.length>d;d++)if(g=e[d]){if(i.length>1)for(h=g,f=0;i.length>f;f++)g=h,h=h[i[f]]||c;else h=g[c];if(a.isFunction(h))return h.apply(g,e);if(void 0!==h&&null!==h&&h!=c)return h}return c})}})}(jQuery),function(a){"use strict";a.fn.cycle.transitions.tileSlide=a.fn.cycle.transitions.tileSlice=a.fn.cycle.transitions.tileBlind={before:function(b,c,d,e){b.API.stackSlides(c,d,e),a(c).show(),b.container.css("overflow","hidden"),b.tileDelay=b.tileDelay||"tileSlide"==b.fx?100:125,b.tileCount=b.tileCount||7,b.tileVertical=b.tileVertical!==!1,b.container.data("cycleTileInitialized")||(b.container.on("cycle-destroyed",a.proxy(this.onDestroy,b.API)),b.container.data("cycleTileInitialized",!0))},transition:function(b,c,d,e,f){function g(a){return"tileSlice"==b.fx?void m.stop().animate(t,{duration:b.speed,easing:b.easing,complete:function(){b._tileAniCallback()}}):(m.eq(a).animate(t,{duration:b.speed,easing:b.easing,complete:function(){(e?p-1===a:0===a)&&b._tileAniCallback()}}),void setTimeout(function(){(e?p-1!==a:0!==a)&&g(e?a+1:a-1)},b.tileDelay))}b.slides.not(c).not(d).hide();var h,i,j,k,l,m=a(),n=a(c),o=a(d),p=b.tileCount,q=b.tileVertical,r=b.container.height(),s=b.container.width();q?(i=Math.floor(s/p),k=s-i*(p-1),j=l=r):(i=k=s,j=Math.floor(r/p),l=r-j*(p-1)),b.container.find(".cycle-tiles-container").remove();var t,u={left:0,top:0,overflow:"hidden",position:"absolute",margin:0,padding:0};t=q?"tileSlide"==b.fx?{top:r}:{width:0}:"tileSlide"==b.fx?{left:s}:{height:0},"tileSlice"==b.fx&&(t={left:i,width:0});var v=a('<div class="cycle-tiles-container"></div>');v.css({zIndex:n.css("z-index"),overflow:"visible",position:"absolute",top:0,left:0,direction:"ltr"}),v.insertBefore(d);for(var w=0;p>w;w++)h=a("<div></div>").css(u).css({width:p-1===w?k:i,height:p-1===w?l:j,marginLeft:q?w*i:0,marginTop:q?0:w*j}).append(n.clone().css({position:"relative",maxWidth:"none",width:n.width(),margin:0,padding:0,marginLeft:q?-(w*i):0,marginTop:q?0:-(w*j)})),m=m.add(h);v.append(m),n.hide(),o.show().css("opacity",1),g(e?0:p-1),b._tileAniCallback=function(){o.show(),n.hide(),v.remove(),f()}},stopTransition:function(a){a.container.find("*").stop(!0,!0),a._tileAniCallback&&a._tileAniCallback()},onDestroy:function(a){var b=this.opts();b.container.find(".cycle-tiles-container").remove()}}}(jQuery),function(a){"use strict";a.fn.cycle.transitions.scrollVert={before:function(a,b,c,d){a.API.stackSlides(a,b,c,d);var e=a.container.css("overflow","hidden").height();a.cssBefore={top:d?-e:e,left:0,opacity:1,display:"block"},a.animIn={top:0},a.animOut={top:d?e:-e}}}}(jQuery),function(a){a.fn.hoverscroll=function(b){return b||(b={}),b=a.extend({},a.fn.hoverscroll.params,b),this.each(function(){function c(a,c){a-=o.offset().left,c-=o.offset().top;var d;d=b.vertical?c:a;for(i in q)d>=q[i].from&&d<q[i].to&&("move"==q[i].action?e(q[i].direction,q[i].speed):f())}function d(){if(b.arrows&&!b.fixedArrows){var c,d;b.vertical?(c=j[0].scrollHeight-j.height(),d=j[0].scrollTop):(c=j[0].scrollWidth-j.width(),d=j[0].scrollLeft);var e=b.arrowsOpacity,f=d/c*e;f>e&&(f=e),isNaN(f)&&(f=0);var g=!1;0>=f&&(a("div.arrow.left, div.arrow.top",o).hide(),c>0&&a("div.arrow.right, div.arrow.bottom",o).show().css("opacity",e),g=!0),(f>=e||0>=c)&&(a("div.arrow.right, div.arrow.bottom",o).hide(),g=!0),g||(a("div.arrow.left, div.arrow.top",o).show().css("opacity",f),a("div.arrow.right, div.arrow.bottom",o).show().css("opacity",e-f))}}function e(c,d){o[0].direction!=c&&(b.debug&&a.log("[HoverScroll] Starting to move. direction: "+c+", speed: "+d),f(),o[0].direction=c,o[0].isChanging=!0,g()),o[0].speed!=d&&(b.debug&&a.log("[HoverScroll] Changed speed: "+d),o[0].speed=d)}function f(){o[0].isChanging&&(b.debug&&a.log("[HoverScroll] Stoped moving"),o[0].isChanging=!1,o[0].direction=0,o[0].speed=1,clearTimeout(o[0].timer))}function g(){if(0!=o[0].isChanging){d();var a;a=b.vertical?"scrollTop":"scrollLeft",j[0][a]+=o[0].direction*o[0].speed,o[0].timer=setTimeout(function(){g()},50)}}var h=a(this);b.debug&&a.log("[HoverScroll] Trying to create hoverscroll on element "+this.tagName+"#"+this.id),b.fixedArrows?h.parent().is(".fixed-listcontainer")||h.wrap('<div class="fixed-listcontainer"></div>'):h.parent().is(".listcontainer")||h.wrap('<div class="listcontainer"></div>'),h.addClass("list");var j=h.parent();j.parent().is(".hoverscroll")?b.rtl&&!b.vertical&&j.parent().addClass("rtr"):j.wrap('<div class="ui-widget-content hoverscroll'+(b.rtl&&!b.vertical?" rtl":"")+'"></div>');var k,l,m,n,o=j.parent();b.arrows&&(b.vertical?b.fixedArrows?(m='<div class="fixed-arrow top"></div>',n='<div class="fixed-arrow bottom"></div>',0==a(".fixed-arrow.top, .fixed-arrow.bottom",o).length&&j.before(m).after(n)):(m='<div class="arrow top"></div>',n='<div class="arrow bottom"></div>',0==a(".arrow.top, .arrow.bottom",o).length&&j.append(m).append(n)):b.fixedArrows?(k='<div class="fixed-arrow left"></div>',l='<div class="fixed-arrow right"></div>',0==a(".fixed-arrow.left, .fixed-arrow.right",o).length&&j.before(k).after(l)):(k='<div class="arrow left"></div>',l='<div class="arrow right"></div>',0==a(".arrow.left, .arrow.right",o).length&&j.append(k).append(l))),o.width(b.width).height(b.height),b.arrows&&b.fixedArrows?b.vertical?(m=j.prev(),n=j.next(),j.width(b.width).height(b.height-(m.height()+n.height()))):(k=j.prev(),l=j.next(),j.height(b.height).width(b.width-(k.width()+l.width()))):j.width(b.width).height(b.height);var p=0;b.vertical?(o.addClass("vertical"),h.children().each(function(){a(this).addClass("item"),p+=a(this).outerHeight?a(this).outerHeight(!0):a(this).height()+parseInt(a(this).css("padding-top"))+parseInt(a(this).css("padding-bottom"))+parseInt(a(this).css("margin-bottom"))+parseInt(a(this).css("margin-bottom"))}),h.height(p),b.debug&&a.log("[HoverScroll] Computed content height : "+p+"px"),p=o.outerHeight?o.outerHeight():o.height()+parseInt(o.css("padding-top"))+parseInt(o.css("padding-bottom"))+parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom")),b.debug&&a.log("[HoverScroll] Computed container height : "+p+"px")):(o.addClass("horizontal"),h.children().each(function(){a(this).addClass("item"),p+=a(this).outerWidth?a(this).outerWidth(!0):a(this).width()+parseInt(a(this).css("padding-left"))+parseInt(a(this).css("padding-right"))+parseInt(a(this).css("margin-left"))+parseInt(a(this).css("margin-right"))}),h.width(p),b.debug&&a.log("[HoverScroll] Computed content width : "+p+"px"),p=o.outerWidth?o.outerWidth():o.width()+parseInt(o.css("padding-left"))+parseInt(o.css("padding-right"))+parseInt(o.css("margin-left"))+parseInt(o.css("margin-right")),b.debug&&a.log("[HoverScroll] Computed container width : "+p+"px"));var q={1:{action:"move",from:0,to:.06*p,direction:-1,speed:8},2:{action:"move",from:.06*p,to:.15*p,direction:-1,speed:4},3:{action:"move",from:.15*p,to:.25*p,direction:-1,speed:2},5:{action:"stop",from:.25*p,to:.75*p},7:{action:"move",from:.75*p,to:.85*p,direction:1,speed:2},8:{action:"move",from:.85*p,to:.94*p,direction:1,speed:4},9:{action:"move",from:.94*p,to:p,direction:1,speed:8}};o[0].isChanging=!1,o[0].direction=0,o[0].speed=1,b.rtl&&!b.vertical&&(j[0].scrollLeft=j[0].scrollWidth-j.width()),o[0].isBinded||(o.mousemove(function(a){c(a.pageX,a.pageY)}).bind("mouseleave",function(){f()}),o[0].isBinded=!0),this.startMoving=e,this.stopMoving=f,b.arrows&&!b.fixedArrows?d():a(".arrowleft, .arrowright, .arrowtop, .arrowbottom",o).hide()}),this},a.fn.offset||(a.fn.offset=function(){if(this.left=this.top=0,this[0]&&this[0].offsetParent){var a=this[0];do this.left+=a.offsetLeft,this.top+=a.offsetTop;while(a=a.offsetParent)}return this}),a.fn.hoverscroll.params={vertical:!1,width:400,height:50,arrows:!0,arrowsOpacity:.7,fixedArrows:!1,rtl:!1,debug:!1},a.log=function(){try{console.log.apply(console,arguments)}catch(a){try{opera.postError.apply(opera,arguments)}catch(a){}}}}(jQuery),function(a){function b(a){return/(^https?)|(^data)|(^blob)/.test(a)}var c={},d={exports:c};"function"==typeof Object.create?d.exports.inherits=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:d.exports.inherits=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a},d.exports.getVerticalColumnImageSize=function(a,b,c){var d=b/c;return{width:~~a,height:~~(a/d)}},d.exports.pyramid=function(){var a=150,b=$(window).innerWidth(),c=$(window).innerHeight();return{isOverThresholdChange:function(){var d=$(window).innerWidth(),e=$(window).innerHeight();return Math.abs(b-d)>a||Math.abs(c-e)>a?(b=d,c=e,!0):!1}}}(),d.exports.quote=function(a){var b,c,d=a.length,e='"';for(c=0;d>c;c+=1)if(b=a.charAt(c),b>=" ")("\\"===b||'"'===b)&&(e+="\\"),e+=b;else switch(b){case"\b":e+="\\b";break;case"\f":e+="\\f";break;case"\n":e+="\\n";break;case"\r":e+="\\r";break;case"	":e+="\\t";break;default:b=b.charCodeAt(),e+="\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)}return e+'"'},d.exports.decamelize=function(a){var b=a.replace(/(.)([A-Z])/g,"$1 $2");return b.charAt(0).toUpperCase()+b.slice(1)},d.exports.fontStacks={Arial:'Arial, "Helvetica Neue", Helvetica, sans-serif',"Arial Black":'"Arial Black", "Arial Bold", Gadget, sans-serif',"Arial Narrow":'"Arial Narrow", Arial, sans-serif',"Arial Rounded MT Bold":'"Arial Rounded MT Bold", "Helvetica Rounded", Arial, sans-serif',"Avant Garde":'"Avant Garde", Avantgarde, "Century Gothic", CenturyGothic, "AppleGothic", sans-serif',Calibri:'Calibri, Candara, Segoe, "Segoe UI", Optima, Arial, sans-serif',Candara:'Candara, Calibri, Segoe, "Segoe UI", Optima, Arial, sans-serif',"Century Gothic":'"Century Gothic", CenturyGothic, AppleGothic, sans-serif',"Franklin Gothic Medium":'"Franklin Gothic Medium", "Franklin Gothic", "ITC Franklin Gothic", Arial, sans-serif',Futura:'Futura, "Trebuchet MS", Arial, sans-serif',Geneva:"Geneva, Tahoma, Verdana, sans-serif","Gill Sans":'"Gill Sans", "Gill Sans MT", Calibri, sans-serif',Helvetica:'"Helvetica Neue", Helvetica, Arial, sans-serif',Impact:'Impact, Haettenschweiler, "Franklin Gothic Bold", Charcoal, "Helvetica Inserat", "Bitstream Vera Sans Bold", "Arial Black", sans serif',"Lucida Grande":'"Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Verdana, sans-serif',Optima:'Optima, Segoe, "Segoe UI", Candara, Calibri, Arial, sans-serif',"Segoe UI":'"Segoe UI", Frutiger, "Frutiger Linotype", "Dejavu Sans", "Helvetica Neue", Arial, sans-serif',Tahoma:"Tahoma, Verdana, Segoe, sans-serif","Trebuchet MS":'"Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif',Verdana:"Verdana, Geneva, sans-serif",Baskerville:'Baskerville, "Baskerville Old Face", "Hoefler Text", Garamond, "Times New Roman", serif',"Big Caslon":'"Big Caslon", "Book Antiqua", "Palatino Linotype", Georgia, serif',"Bodoni MT":'"Bodoni MT", Didot, "Didot LT STD", "Hoefler Text", Garamond, "Times New Roman", serif',"Book Antiqua":'"Book Antiqua", Palatino, "Palatino Linotype", "Palatino LT STD", Georgia, serif',"Calisto MT":'"Calisto MT", "Bookman Old Style", Bookman, "Goudy Old Style", Garamond, "Hoefler Text", "Bitstream Charter", Georgia, serif',Cambria:"Cambria, Georgia, serif",Didot:'Didot, "Didot LT STD", "Hoefler Text", Garamond, "Times New Roman", serif',Garamond:'Garamond, Baskerville, "Baskerville Old Face", "Hoefler Text", "Times New Roman", serif',Georgia:'Georgia, Times, "Times New Roman", serif',"Goudy Old Style":'"Goudy Old Style", Garamond, "Big Caslon", "Times New Roman", serif',"Hoefler Text":'"Hoefler Text", "Baskerville old face", Garamond, "Times New Roman", serif',"Lucida Bright":'"Lucida Bright", Georgia, serif',Palatino:'Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif',Perpetua:'Perpetua, Baskerville, "Big Caslon", "Palatino Linotype", Palatino, "URW Palladio L", "Nimbus Roman No9 L", serif',Rockwell:'Rockwell, "Courier Bold", Courier, Georgia, Times, "Times New Roman", serif',"Rockwell Extra Bold":'"Rockwell Extra Bold", "Rockwell Bold", monospace',"Times New Roman":'TimesNewRoman, "Times New Roman", Times, Baskerville, Georgia, serif',"Andale Mono":'"Andale Mono", AndaleMono, monospace',Consolas:"Consolas, monaco, monospace","Courier New":'"Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace',"Lucida Console":'"Lucida Console", "Lucida Sans Typewriter", Monaco, "Bitstream Vera Sans Mono", monospace',"Lucida Sans Typewriter":'"Lucida Sans Typewriter", "Lucida Console", Monaco, "Bitstream Vera Sans Mono", monospace',Monaco:'Monaco, Consolas, "Lucida Console", monospace',Copperplate:'Copperplate, "Copperplate Gothic Light", fantasy',Papyrus:"Papyrus, fantasy","Brush Script MT":'"Brush Script MT", cursive'},d.exports.fontStacks["Helvetica Neue"]=d.exports.fontStacks.Helvetica,d.exports.fontStacks["Lucida Sans Console"]=d.exports.fontStacks["Lucida Sans Typewriter"],d.exports.fontFamilyDegradation=function(a){if(a){var b=c.decamelize(a);return c.fontStacks[b]?c.fontStacks[b]:c.fontStacks[a]?c.fontStacks[a]:/\s/.test(b)?[c.quote(b),a].join(", "):[b,a].join(", ")}},d.exports.hexToRgba=function(a,b){if(a){var c,d="#"==a.charAt(0)?a.slice(1):a,e=parseInt(d.substring(0,2),16),f=parseInt(d.substring(2,4),16),g=parseInt(d.substring(4,6),16),h=isNaN(b)?1:parseFloat(b);return c=1==b||isNaN(b)?"rgb("+e+","+f+","+g+")":"rgba("+e+","+f+","+g+","+h+")"}},d.exports.capabilities={mask:function(){var a=document.getElementsByTagName("html")[0],b=a.className?a.className.split(" "):[];return void 0!==document.body.style["-webkit-mask-repeat"]?(b.push("cssmasks"),a.className=b.join(" "),!0):(b.push("no-cssmasks"),a.className=b.join(" "),!1)}},d.exports.difference=function(a,b){var c,d={};for(var e in b)_.isEqual(a[e],c=b[e])||(d[e]=c);return d},d.exports.propertiesChanged=function(a,b,d){var a=a||{},b=b||{},d=d||[];return _.keys(_.pick(c.difference(a,b),d)).length?!0:!1},d.exports.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},d.exports.getResizedImageUrlSrz=function(a,c,d,e){if(e=e||{},e.quality=e.quality||75,e.resizaFilter=e.resizaFilter||22,e.usm_r=e.usm_r||.5,e.usm_a=e.usm_a||1.2,e.usm_t=e.usm_t||0,b(a))return a;var f=[],g=/[.]([^.]+)$/.exec(a),h=g&&/[.]([^.]+)$/.exec(a)[1]||"";return a="https://static.wixstatic.com/media/"+a,f.push(a),f.push("srz"),f.push("p"),f.push(c),f.push(d),f.push(e.quality),f.push(e.resizaFilter),f.push(e.usm_r),f.push(e.usm_a),f.push(e.usm_t),f.push(h),f.push("srz"),f.join("_")},d.exports.getResizedImageFacedCroppedUrl=function(a,c,d){return b(a)?a:"//static.wixstatic.com/media/"+a+"/v1/fill/w_"+c+",h_"+d+",al_fs,q_75,usm_0.50_1.20_0.00/"+a},d.exports.getResizedImageUrl=function(a,c,d,e){if(e=e||{},!e.quality){var f=196e4,g=36e4,h=1,i=c*h*(d*h);i>f?e.quality=90:i>g?e.quality=85:e.quality=80}if(e=e||{},e.resizaFilter=e.resizaFilter||22,e.usm_r=e.usm_r||.66,e.usm_a=e.usm_a||1,e.usm_t=e.usm_t||.01,b(a))return a;var j="https://static.wixstatic.com/media/"+a+"/v1/fill/";return j+="w_"+c,j+=",h_"+d,j+=",al_c",j+=",q_"+e.quality,j+=",usm_"+e.usm_r+"_"+e.usm_a.toFixed(2)+"_"+e.usm_t,j+="/"+a},d.exports.loadGoogleFontIfNeeded=function(a){this.loadedFonts||(this.loadedFonts={}),this.loadedFonts[a]||(this.loadedFonts[a]=!0,Wix.Styles.getEditorFonts(function(b){var c=!1;b.forEach(function(b){c=_.find(b.fonts,{fontFamily:a,provider:"google"})}),c&&WebFont.load({google:{families:[c.cdnName]}})}))},d.exports.insertCssRule=function(a,b){if(!a.tmpStyleSheet){var c=$("<style></style>").appendTo("head").attr("id","dynamic-style").get(0);if(a.tmpStyleSheet=_.find(document.styleSheets,function(a){return a.ownerNode===c}),!a.tmpStyleSheet)for(var d=document.styleSheets.length-1;d>=0;d--){var e=document.styleSheets[d];if(null!=e.cssRules){a.tmpStyleSheet=e;break}}}var b,f=a.tmpStyleSheet,g=0;return f.insertRule?(g=f.cssRules.length,f.insertRule(b,g),b=f.cssRules[g]):f.addRule&&(g=f.rules.length,f.addRule(b,g),b=f.rules[g]),b},a.utils=c}(window),SimpleAppProto.prototype.handleSettingsEvent=function(a){var b=this;a.cmd?_.isFunction(b[a.cmd])&&b[a.cmd].call(b,a):b.updateSettings(a)},SimpleAppProto.prototype.handleEditModeEvent=function(a){var b=this;b.editMode=a.editMode;var c=document.getElementById("viewport");c&&c.setAttribute("data-mode",b.editMode),_.isFunction(b.changeEditMode)&&b.changeEditMode(a)},SimpleAppProto.prototype.openLink=function(a,b,c,d,e,f){if(a){var g=this;switch(c){case"PAGE":Wix.navigateToPage(-1!==a.indexOf("#")?a.split("/").pop():f);break;case"ANCHOR":var h=-1!==a.indexOf("#")?a.split("/").pop():f;Wix.pushState(JSON.stringify({cmd:"navigateToAnchor",args:[h,e]}));break;case"WEBSITE":if(b?"_self"==b&&(b="_top"):b="_blank","preview"==this.editMode&&"_top"==b){var i="Your link will not open in the same window while in Preview mode, but it will work on your site!",j=$("<div></div>").append(i).css({letterSpacing:"1px",boxShadow:"rgba(0, 0, 0, 0.6) 0px 1px 4px 0px",borderRadius:"5px",maxWidth:"300px",color:"rgb(101, 101, 101)",background:"rgb(255, 254, 223)",position:"absolute",padding:"5px",fontSize:"12px",fontFamily:"Helvetica, Arial, serif",lineHeight:"16px"}),k={left:d.pageX,top:d.pageY};if(d.pageX&&d.pageY){var l=$("body").width();k.left-=150,k.left<1&&(k.left=1),k.top<1&&(k.top=1),k.left+300>l&&(k=l-300)}else k=d.currentTarget?$(d.currentTarget).offset():{left:10,top:10};g.viewportOverlay().show(j,5e3,k)}else window.open(a,b);break;case"EMAIL":window.open(a);break;case"DOCUMENT":window.open(a,"_blank")}}},SimpleAppOverlay.prototype.show=function(a,b,c){var d=this;d.overlay.show(),d.overlay.offset(d.el.offset());var e=$(d.el).css("z-index");return e&&"auto"!=e||(e=1,$(d.el).css("z-index",e)),e++,d.overlay.css({width:$("body").width(),height:$("body").height(),backgroundColor:"rgba(30,30,30, 0.1)",color:"rgb(50,50,50)",zIndex:e}),a&&d.message(a,c),b&&(d.displayTimer&&clearTimeout(d.displayTimer),d.displayTimer=setTimeout(function(){d.hide()},b)),d},SimpleAppOverlay.prototype.hide=function(){var a=this;return a.displayTimer&&clearTimeout(a.displayTimer),a.overlay.hide(),a.message(""),a},SimpleAppOverlay.prototype.message=function(a,b){var b=b||{left:10,top:10};if("string"==typeof a)this.overlay.html(a);else{var c=$(a),d=c.clone(!0);c.is("*")&&(this.overlay.html("").append(d),d.offset(b))}return this},SimpleAppProto.prototype.itemsChanged=function(a,b){var c=this,d=b||["uri"],e=!1;if(c.items.length!=a.length)e=!0;else for(var f=0;f<c.items.length;f++){if(utils.propertiesChanged(c.items[f],a[f],d)){e=!0;break}_.extend(c.items[f],a[f])}return e},SimpleAppProto.prototype.propsChanged=function(a,b){var c=this,b=b||[],d=utils.difference(c.props,a),e=_.keys(d).length?!0:!1;return e&&b.length&&(e=utils.propertiesChanged(c.props,a,b)),e},SimpleAppProto.prototype.viewportOverlay=function(){return this._viewportOverlay=this._viewportOverlay||new SimpleAppOverlay(this.el),this._viewportOverlay},SimpleAppProto.prototype.override=function(a,b){var c={};"object"==typeof a?c=a:c[a]=b,this.updateSettings({items:_.clone(this.items),props:_.extend(_.clone(this.props),c)})};var ThumbnailsController=function(a,b){var c=this;utils.capabilities.mask(),c.resize=_.debounce(_.bind(c._resize,c),200),ThumbnailsController.super_.apply(c,arguments),c.itemClass="item",c.itemSelector="."+c.itemClass,c.isMobile="mobile"==this.deviceType,c.items=[],c.props={},c.dimCache={},c.afterCreate=!1};utils.inherits(ThumbnailsController,SimpleAppProto),ThumbnailsController.prototype.itemClick=function(a,b,c,d){switch(this.props.galleryImageOnClickAction){case"zoomMode":Wix.pushState(JSON.stringify({cmd:"zoom",args:[b]})),this.autoplayPause();break;case"disabled":break;default:case"goToLink":this.openLink(a.href,a.target,a.linkType,d,a["data-anchor"],this.mainPageId)}return!1},ThumbnailsController.prototype.init=function(a){this.items=a.items||[],this.props=a.props||{},this.createDom(),this.createLayout(),this._resize()},ThumbnailsController.prototype.zoomClosed=function(){this.autoplayResume()},ThumbnailsController.prototype._resize=function(){this.updateLayout()},ThumbnailsController.prototype.destroy=function(){$("#displayCycle").cycle("destroy"),this.el.html("")},ThumbnailsController.prototype.getSidesRatio=function(){var a;switch(this.props.componentScale){case"16:9":a=16/9;break;case"4:3":a=4/3;break;case"1:1":a=1;break;default:a=1}return a},ThumbnailsController.prototype.dimCrop=function(a,b){var c=Math.max(this.containerWidth/a,this.containerHeight/b);return{height:Math.floor(b*c),width:Math.floor(a*c)}},ThumbnailsController.prototype.dimFit=function(a,b){var c=Math.min(this.containerWidth/a,this.containerHeight/b);return{height:Math.floor(b*c),width:Math.floor(a*c)}},ThumbnailsController.prototype.calculateLayout=function(){var a,b,c,d,e=this,f=e.props.thumbnailsGravity,g=e.getViewportSize(),h=8,i=2,j=this.getSidesRatio(),k="top"==f||"bottom"==f,l=k||e.isMobile?50:80,m={position:"absolute",top:0,left:0,right:0,bottom:0},n=$("#display"),o=$("#thumbnailsHolder"),p=$("#thumbnails"),q=$("#displayCycle"),r=$(".thumb",p);switch(k?(b=l,a=e.items.length*Math.floor(l*j+e.props.margin)-e.props.margin,c=g.width,d=g.height-l-h-i,r.css("margin",0).not(":last").css({"margin-right":e.props.margin+"px"}),p.css("margin","1px auto"),b+=i):(a=l,b=e.items.length*Math.floor(l/j+e.props.margin)-e.props.margin,c=g.width-l-h-i,d=g.height,r.css("margin",0).not(":last").css({"margin-bottom":e.props.margin+"px"}),b<g.height&&p.css("margin-top",Math.floor((g.height-b)/2)+"px"),a+=i),p.width(a).height(b),$(".cycle-slide, .filler",q).width(c).height(d),n.add(q).width(c).height(d),e.containerWidth=g.width,e.containerHeight=d,e.props.thumbnailsGravity){case"left":o.css(_.defaults({right:"auto"},m)),n.css(_.defaults({left:"auto"},m));break;case"right":o.css(_.defaults({left:"auto"},m)),n.css(_.defaults({right:"auto"},m));break;case"top":o.css(_.defaults({bottom:"auto"},m)),n.css(_.defaults({top:"auto"},m));break;case"bottom":default:o.css(_.defaults({top:"auto"},m)),n.css(_.defaults({bottom:"auto"},m))}var s=p.closest(".hoverscroll");s.length&&(p.appendTo(o),s.remove()),p.hoverscroll({width:k?"100%":a,height:k?b:"100%",arrows:!1,vertical:!k})},ThumbnailsController.prototype.updateLayout=function(){var a=this;a.calculateLayout();var b=a.getViewportSize();this.el.css(_.extend({overflow:"hidden"},b));var c=$("#display"),d=($("#thumbnailsHolder"),$("#thumbnails"),a.colors());utils.loadGoogleFontIfNeeded(a.props.font),$(".cycle-overlay").css({backgroundColor:d.background,fontFamily:utils.fontFamilyDegradation(a.props.font),textAlign:a.props.alignText}),$(".cycle-overlay .desc").css({color:d.description}),$(".cycle-overlay .title").css({color:d.text}),$(".next,.prev",c).css("background-color",a.props.textBackgroundColor).find(".inner").css("background-color",a.props.textColor);var e=$("#displayCycle"),f=a.afterCreate||utils.pyramid.isOverThresholdChange();$(a.itemSelector,e).each(function(){var b,c,d=$(this).data("item");"fit"==a.props.cropAndFitStage?(b=a.dimFit(d.width,d.height),c="contain"):(b=a.dimCrop(d.width,d.height),c="cover"),$(".filler",this).css({cursor:d.href?"pointer":"auto"}),f&&$(".filler",this).css({backgroundImage:"url("+utils.getResizedImageUrl(d.uri,b.width,b.height)+")",backgroundSize:c})})},ThumbnailsController.prototype.autoplayPause=function(){var a=$("#displayCycle");a.cycle("pause"),this.isPlaying=!1},ThumbnailsController.prototype.autoplayResume=function(){if("editor"!=this.editMode){var a=$("#displayCycle");this.props.autoplay&&a.cycle("resume"),this.isPlaying=this.props.autoplay}},ThumbnailsController.prototype.changeEditMode=function(){var a=$("#displayCycle");"editor"==this.editMode?this.autoplayPause():this.autoplayResume(),a.cycle({timeout:1e3*this.props.autoplayInterval})},ThumbnailsController.prototype._randomTransition=function(){var a=["fade","slide","scroll","zoom"];this._fxRandomized=this._fxRandomized||_.shuffle(a),this._fxRandomIteration=this._fxRandomIteration||0;var b=this._fxRandomIteration%this._fxRandomized.length;return this._fxRandomIteration++,this._fxFromTransition(this._fxRandomized[b])},ThumbnailsController.prototype._fxFromTransition=function(a){var b={fx:a,transition:a,speed:1e3*(this.props.transDuration||1)};switch(a){case"none":b.fxSpeed=b.speed,b.speed=1;break;case"zoom":case"crossFade":b.fx="fadeout";break;case"scroll":b.fx="scrollVert";break;case"slide":b.fx="scrollHorz";break;case"random":b.fx="random";break;case"tile":b.fx="tileBlind";break;case"slice":b.fx="tileSlice"}return b},ThumbnailsController.prototype.createDom=function(){var a=this,b=a.getSidesRatio(),c=a.props.thumbnailsGravity,d="top"==c||"bottom"==c,e=d||a.isMobile?50:80,f=d?e:Math.floor(e/b),g=d?Math.floor(e*b):e,h=a.getViewportSize();a.el.css(_.extend({overflow:"hidden"},h));var i=$("<div></div>").appendTo(a.el).attr("id","display"),j=$("<div></div>").appendTo(a.el).attr("id","thumbnailsHolder"),k=$("<div></div>").appendTo(j).attr("id","thumbnails");if(a.props.arrowMode){$('<div><div class="inner"></div></div>').appendTo(i).addClass("prev"),$('<div><div class="inner"></div></div>').appendTo(i).addClass("next")}var l=$("<div></div>").attr("id","displayCycle").appendTo(i),m=a.props.transition||"none",n=a._fxFromTransition(m);a.initialSlideIndex=a.initialSlideIndex||0,a.initialTransition=a.initialTransition||m;var o,p=d?"inline-block":"block";a.isPlaying=a.props.autoplay&&"editor"!=a.editMode,l.attr({"data-cycle-slides":">div","data-cycle-timeout":1e3*a.props.autoplayInterval,"data-cycle-auto-height":!1,"data-cycle-paused":!a.isPlaying,"data-cycle-fx":n.fx,"data-cycle-log":!1,"data-cycle-speed":n.speed,"data-cycle-pager":"#thumbnails","data-starting-slide":a.initialSlideIndex,"data-cycle-pager-template":"<div class='thumb' style='display:"+p+"; width:{{thumbWidth}}px; height:{{thumbHeight}}px; background: url({{thumb}}) 50% no-repeat'><div class='overlay'></div></div>","data-cycle-prev":"#display .prev","data-cycle-next":"#display .next"}).on("cycle-before",function(b,c,e,h,i){if(a.initialSlideIndex=$(h).index(),o=$(".overlay",k).removeClass("current").eq(a.initialSlideIndex).addClass("current"),a.isPlaying){var j=a.props.margin,l=a.initialSlideIndex*(g+j)-Math.round((a.containerWidth-g-j)/2);d||(l=a.initialSlideIndex*(f+j)-Math.round((a.containerHeight-f-j)/2));var m={},p=d?"scrollLeft":"scrollTop";m[p]=l,$(k).parent().animate(m,n.fxSpeed||n.speed,function(){})}}).on("cycle-post-initialize",function(b){$(".overlay",k).removeClass("current").eq(a.initialSlideIndex).addClass("current")}),i.on("click",this.itemSelector,function(b){var c=$(b.currentTarget).index();a.itemClick(a.items[c],c,b.target,b)});var q=_.template('<div class="item" data-thumb="<%=thumbnail%>" data-thumb-width="<%=thumbnailWidth%>" data-thumb-height="<%=thumbnailHeight%>"><div class="filler"></div><div class="cycle-overlay"><h3 class="title"><%=title%></h3><div class="desc"><%=description%></div></div></div>');switch(_.each(this.items,function(b){var c;if(_.extend(b,{thumbnail:utils.getResizedImageUrl(b.uri,g,f),thumbnailWidth:g,thumbnailHeight:f}),b.title||(b.title=""),b.description||(b.description=""),c=$(q(b)).appendTo(l).data("item",b),"random"==n.fx){var d=a._randomTransition();c.attr({"data-cycle-fx":d.fx,"data-cycle-speed":d.speed,"data-transition":d.transition})}_.isEmpty(b.title)&&$(".title",c).remove(),_.isEmpty(b.description)&&$(".desc",c).remove(),_.isEmpty(b.title)&&_.isEmpty(b.description)&&$(".cycle-overlay",c).remove()}),a.props.textMode){case"titleAndDescription":break;case"titleOnly":$(".desc",i).remove();break;case"descriptionOnly":$(".title",i).remove();break;case"noText":$(".cycle-overlay",i).remove()}if(l.cycle({}),i.hover(function(){i.addClass("active")},function(){i.removeClass("active")}),k.hover(function(){a.autoplayPause()},function(){a.autoplayResume()}),a.isMobile){i.hammer().on("swipeleft swipeup",function(){l.cycle("next")}).on("swiperight swipedown",function(){l.cycle("prev")});var r=0;k.hammer().on("dragstart",function(a){r=$(".listcontainer").get(0).scrollLeft}).on("drag",function(a){var b=a.gesture,c=$(".listcontainer").get(0);return c.scrollLeft=r-b.deltaX,a.gesture.preventDefault(),!1})}this.afterCreate=!0},ThumbnailsController.prototype.colors=function(){
return{text:utils.hexToRgba(this.props.textColor,this.props.alphaTextColor),description:utils.hexToRgba(this.props.descriptionColor,this.props.alphaDescriptionColor),background:utils.hexToRgba(this.props.textBackgroundColor,this.props.alphaTextBackgroundColor)}},ThumbnailsController.prototype.createLayout=function(){},ThumbnailsController.prototype.updateSettings=function(a){var b=!1;if(this.mainPageId=a.mainPageId,this.el.attr("data-text-mode",a.props.textMode),this.el.attr("data-animation",a.props.transition),this.props=a.props,b=!0,this.props.thumbnailsGravity||(this.props.thumbnailsGravity="bottom"),b?(this.destroy(),this.init(a)):this.resize(),self.initialTransition&&self.initialTransition!=a.props.transition){self.initialTransition=a.props.transition;var c=$("#displayCycle");setTimeout(function(){c.cycle("next")},1e3)}},ThumbnailsController.prototype.getViewportSize=function(){return{width:$(document.body).width(),height:$(document.body).height()}};