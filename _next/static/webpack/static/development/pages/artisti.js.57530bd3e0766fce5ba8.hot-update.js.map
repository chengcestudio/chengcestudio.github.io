{"version":3,"file":"static/webpack/static\\development\\pages\\artisti.js.57530bd3e0766fce5ba8.hot-update.js","sources":["webpack:///./components/artisti.tab.works.FULL_IMG.js"],"sourcesContent":["\r\nimport { css } from 'glamor'\r\nimport { PureComponent } from 'react'\r\nimport { ui   }  from 'utils/ui'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {IMG_WithLoader} from 'components/img.work'\r\nimport {setFocusOn} from 'reducers/artisti.tabs'\r\nimport LeftArrow from 'components/svg/icons_chevron-left'\r\nimport RightArrow from 'components/svg/icons_chevron-right'\r\n\r\n\r\n\r\nclass Triangle extends PureComponent{\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    render(){\r\n        const size = this.props.size\r\n        return(\r\n            <svg\r\n             {...css({\r\n                width:size,\r\n                position:'absolute'\r\n             })}\r\n             viewBox= {`0 0 1 1`}\r\n            >\r\n                <polygon\r\n                 fill={ui.color.b_o2}\r\n                 stroke=\"none\"\r\n                 points={\r\n                    `0,0 `+//left_top\r\n                    `1,0 `+//right_top\r\n                    `0,1 `//right_bottom\r\n                }\r\n                />\r\n            </svg>\r\n        )\r\n    }\r\n}\r\n\r\nclass FullWork extends PureComponent {\r\n    constructor(props){\r\n        super(props);\r\n        this.handleClickClose = this.closeOnClick.bind(this)\r\n\r\n        this.state = {showArrows:false}\r\n    }\r\n\r\n\r\n    closeOnClick(){\r\n        this.props.setFocusOn(-1);\r\n    }\r\n\r\n    nextOnClick(index){\r\n        // debugger\r\n        if(index+1===this.props.contents.length) {index=-1;}\r\n        this.props.setFocusOn(index+1);\r\n    }\r\n\r\n    prevOnClick(index){\r\n        // if(index===this.props.contents.length) {index=-1;debugger}\r\n        this.props.setFocusOn(index-1);\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        if(this.props.worksFocusOn === undefined || this.props.worksFocusOn === -1 ) return null\r\n        const index = this.props.worksFocusOn/*跳转前一张或者后一张*/\r\n        const landscape = this.props.landscape\r\n        // debugger\r\n\r\n        return(\r\n            <div\r\n             {...css({\r\n                position:'fixed',\r\n                height:'100vh',\r\n                width:'100vw',\r\n                left:0,\r\n                top:0,\r\n                right: 0,\r\n                zIndex:9,\r\n                // backgroundColor:'rgba(240,240,240,.95)',\r\n                background:'rgba(240,240,240,.99)',\r\n                transition:'background 1s cubic-bezier(0, 0.6, 0, 1)',\r\n                willChange:'background',\r\n                pointerEvents:'none',\r\n             })}\r\n             className =\"FullWork\"\r\n            >\r\n\r\n                {/*控制器Next/Prev*/}\r\n                <div\r\n                 {...css({\r\n                    /*居中*/\r\n                     position: 'fixed',\r\n                     display:'flex',\r\n                     justifyContent:'space-between',\r\n                     left:0,\r\n                     top:0,\r\n                     width:'100vw',\r\n                     height:'100vh',\r\n                     pointerEvents:'auto',\r\n                     zIndex:11,\r\n                     opacity:0,\r\n                     // height: `fit-content`,\r\n                     // width: landscape?`${GR.vw(8)}vw`:`${GR.vw(5)}vw`,\r\n                     cursor:'pointer',\r\n                     ':hover':{\r\n                        opacity:1,\r\n                        transition:'opacity 1s'\r\n                    }\r\n                })}\r\n\r\n                >\r\n                    {/*Prev*/}\r\n                    <div\r\n                     {...css({\r\n                        /*居中*/\r\n                         // position: 'fixed',\r\n                         // left:0,\r\n                         // top:0,\r\n                         zIndex:12,\r\n                         display:'flex',\r\n                         alignItems:'center',\r\n                         justifyContent: landscape?'center':'flex-start',\r\n                         margin:landscape?'0':'.6em',\r\n                         height:'100vh',\r\n                         width:'33vw',\r\n                         pointerEvents:'all',\r\n                         cursor:'pointer',\r\n                     })}\r\n                     onClick = {()=>{this.prevOnClick(this.props.worksFocusOn)}}\r\n                    >\r\n                        <LeftArrow\r\n                             size = {30}\r\n                             color = {ui.color.b_o2}\r\n                             strokeWidth = {0.75}\r\n                            />\r\n\r\n                    </div>\r\n                    {/*Close*/}\r\n                    <div\r\n                     {...css({\r\n                        /*居中*/\r\n                         // position: 'fixed',\r\n                         zIndex:12,\r\n                         display:'flex',\r\n                         alignItems:'center',\r\n                         height:'100vh',\r\n                         width:'33vw',\r\n                         pointerEvents:'all',\r\n\r\n                         cursor:'pointer',\r\n                     })}\r\n                     onClick = {this.handleClickClose}\r\n                    />\r\n\r\n                    {/*Next*/}\r\n                    <div\r\n                     {...css({\r\n                        /*居中*/\r\n                         // position: 'fixed',\r\n                         // left:0,\r\n                         // top:0,\r\n                         zIndex:12,\r\n                         display:'flex',\r\n                         alignItems:'center',\r\n                         justifyContent: landscape?'center':'flex-end',\r\n                         margin:landscape?'0':'.6em',\r\n                         height:'100vh',\r\n                         width:'33vw',\r\n                         pointerEvents:'all',\r\n                         cursor:'pointer',\r\n                     })}\r\n                     onClick = {()=>{this.nextOnClick(this.props.worksFocusOn)}}\r\n                    >\r\n                        <RightArrow\r\n                         size = {30}\r\n                         color = {ui.color.b_o2}\r\n                         strokeWidth = {0.75}\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/*保护 WALL*/}\r\n                <div\r\n                 {...css({\r\n                    position:'absolute',\r\n                    display: 'flex',\r\n                    justifyContent:'center',\r\n                    pointerEvents:'auto',\r\n                    alignItems:landscape?'flex-end':'flex-start',\r\n                    // width:this.props.vw,\r\n                    zIndex:10,\r\n                    top:0,\r\n                    left:0,\r\n                    height:'100vh',\r\n                    width:'100vw',\r\n                 })}\r\n\r\n                >\r\n\r\n                    {/*作品详细说明*/}\r\n                    <div\r\n                     {...css({\r\n                        position:'absolute',\r\n                        display: 'flex',\r\n                        justifyContent:'center',\r\n                        alignItems:'flex-start',\r\n                        // backgroundColor:ui.color.b_o2,\r\n                        // flexDirection:landscape?'row':'column',\r\n                        width:this.props.vw,\r\n                     })}\r\n                    >\r\n                        {/*三角形*/}\r\n                        {\r\n                            landscape?\r\n                            <div\r\n                             {...css({\r\n                                width:landscape?'2rem':'1rem',\r\n                                height:landscape?'2rem':'1rem',\r\n                                paddingBottom:'2rem',\r\n                                paddingTop:'2rem',\r\n                                // paddingLeft:'2rem',\r\n                             })}>\r\n                                <Triangle size = {landscape?'2rem':'1rem'} />\r\n                            </div>\r\n                            :\r\n                            null\r\n                        }\r\n\r\n\r\n                        {/*time year*/}\r\n                        <div\r\n                         {...css({\r\n                            color:ui.color.b_o3,\r\n                            fontWeight:1000,\r\n                            fontSize:landscape?'1.5rem':'1rem',\r\n                            paddingBottom:'2rem',\r\n                            paddingTop:'2rem',\r\n                            paddingLeft:'0.8rem',\r\n                         })}\r\n                        >\r\n                            {this.props.contents[this.props.worksFocusOn].time}\r\n                        </div>\r\n\r\n\r\n\r\n                        {/*title text*/}\r\n                        <div\r\n                         {...css({\r\n                            color:ui.color.b_o1,\r\n                            paddingBottom:'2rem',\r\n                            paddingTop:'2rem',\r\n                            paddingLeft:landscape?'1rem':'.5rem',\r\n                            width:landscape?'auto':'13em',\r\n                         })}\r\n                        >\r\n                            {this.props.contents[this.props.worksFocusOn].title[this.props.language]}\r\n                        </div>\r\n\r\n                        {/*dim*/}\r\n                        <div\r\n                         {...css({\r\n                            color:ui.color.b_o2,\r\n                            fontSize:landscape?'0.8rem':'0.4rem',\r\n                            paddingBottom:'2rem',\r\n                            paddingTop:'2rem',\r\n                            paddingLeft:'0.8rem',\r\n                         })}\r\n                        >\r\n                            {this.props.contents[this.props.worksFocusOn].dim}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/*IMG*/}\r\n                <IMG_WithLoader\r\n                 src = {this.props.contents[this.props.worksFocusOn].img}\r\n                 height = {this.props.vh*0.8}\r\n                 width = {this.props.vw*0.8}\r\n                 fullWidth = {true}\r\n                 fetch = {true}\r\n                 key = {this.props.contents[this.props.worksFocusOn].img}\r\n                />\r\n\r\n\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return ({\r\n        vw:state.Root.view_size.vw,\r\n        vh:state.Root.view_size.vh,\r\n        landscape:state.Root.view_size.is_landscape,\r\n        language:state.Root.language,\r\n        worksFocusOn:state.Tab.worksFocusOn,\r\n    });\r\n}\r\n\r\n/*关闭的时候,切换的时候使用*/\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setFocusOn: bindActionCreators(setFocusOn, dispatch),\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(FullWork)\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;AAGA;AACA;AAFA;AAIA;AALA;AAQA;AACA;AACA;AACA;AAAA;AACA;AALA;AAWA;;;;AA1BA;AACA;AA4BA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAJA;AAKA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;;;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAcA;AAfA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAfA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AAAA;AAAA;AAhBA;AAmBA;AACA;AACA;AAHA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAVA;AAYA;AAbA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AAAA;AAAA;AAhBA;AAmBA;AACA;AACA;AAHA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAeA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AANA;AAiBA;AACA;AACA;AACA;AACA;AALA;AAcA;AACA;AACA;AACA;AACA;AALA;AAgBA;AACA;AACA;AACA;AACA;AACA;AANA;AAcA;;;;AA9PA;AACA;AAiQA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAEA;AACA;AACA;AADA;AACA;AACA;AADA;AAIA;AACA;AACA;;;;A","sourceRoot":""}