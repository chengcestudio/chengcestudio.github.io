{"version":3,"file":"static/webpack/static\\development\\pages\\artisti.js.1f9836cfca8509cea3e2.hot-update.js","sources":["webpack:///./components/artisti.tab.works.js"],"sourcesContent":["import { css } from 'glamor'\r\nimport { PureComponent } from 'react'\r\n\r\nimport TAB from 'components/artisti.tab.Wrapper'\r\nimport {IMG_WithLoader} from 'components/img'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {setFocusOn} from'reducers/artisti.tabs'\r\nimport { setPanelOn } from 'reducers/nav'\r\n\r\n/*Button_IMG */\r\n// class Button_IMG extends PureComponent {\r\n//     constructor(props){\r\n//         super(props);\r\n//     }\r\n\r\n//     render(){\r\n//         return(\r\n//             <div\r\n//              {...css({\r\n//                 marginRight:'3rem',\r\n//                 cursor:'pointer',\r\n//                 opacity:this.props.on?1:0,\r\n//                 fontWeight:this.props.on?900:100,\r\n//              })}\r\n//             >{this.props.name}</div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n\r\n\r\nclass Works extends PureComponent {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {ctxLength:9};\r\n        this.ctxMax = 0 ;\r\n        this.handleClick = this.callFullWork.bind(this)\r\n        this.handleClickMore = this.reqMoreWork.bind(this)\r\n    }\r\n\r\n\r\n    callFullWork(index){\r\n        console.log(index)\r\n        this.props.setFocusOn(index);\r\n        this.props.setPanelOn('close')\r\n    }\r\n\r\n    reqMoreWork(){\r\n        this.setState({ctxLength:this.state.ctxLength+9})\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.setFocusOn(-1);\r\n    }\r\n\r\n    componentshouldupdate(nextProps){\r\n        if(this.props.vw!==nextProps.vw||this.props.landscape!==nextProps.landscape\r\n            ){\r\n            return true\r\n        }else{return false}\r\n    }\r\n\r\n    render(){\r\n        const vw = this.props.vw\r\n        const width= this.props.landscape?width:vw\r\n        const size = this.props.width/3.1\r\n        const shouldFetch = vw === undefined ? false:true;\r\n        const contents = this.props.contents.filter((item,index)=>index<this.state.ctxLength)\r\n        return(\r\n            <div\r\n             {...css({\r\n                    display:'flex',\r\n                    flexDirection:'row',\r\n                    flexWrap:'wrap',\r\n                    width:`${this.props.width}`,\r\n                    margin:'auto',//居中\r\n                 })}\r\n            >\r\n                {/*Img*/}\r\n                {\r\n                    contents.map((item,index)=>\r\n                        <div\r\n                          {...css({\r\n                            justifyContent:'flex-start',\r\n                            margin:`1px`,\r\n                            cursor:'pointer',\r\n                        })}\r\n                        key = {`working_${index}`}\r\n                        onClick = {()=>{this.handleClick(index)}}\r\n                        >\r\n                            <IMG_WithLoader\r\n                             src = {item.img}\r\n                             height = {size}\r\n                             width = {size}\r\n                             fullWidth = {true}\r\n                             fetch = {shouldFetch}\r\n                            />\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n\r\n                {/*MORE*/}\r\n                <div\r\n                  {...css({\r\n                    display:'flex',\r\n                    width:'100%',\r\n                    justifyContent:'center',\r\n                    alignItems:'center',\r\n                    cursor:'pointer',\r\n                    height:'20vh',\r\n                    fontSize:'1.5rem',\r\n                })}\r\n                  onClick = {this.handleClickMore}\r\n                  >\r\n                    {'more'}\r\n                </div>\r\n\r\n            </div>\r\n        )/*return*/\r\n    }/*render*/\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return ({\r\n        vw:state.Root.view_size.vw,\r\n        landscape:state.Root.view_size.is_landscape,\r\n        // on:state.Tab.on,\r\n    });\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setFocusOn: bindActionCreators(setFocusOn, dispatch),\r\n    //nav\r\n    setPanelOn:bindActionCreators(setPanelOn, dispatch )\r\n  }\r\n}\r\n\r\n\r\nconst Comp = connect(mapStateToProps,mapDispatchToProps)(Works)\r\nexport default TAB()(Comp)\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAMA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAUA;AAGA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AAPA;AAUA;AACA;AACA;AACA;AACA;AALA;AAVA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AAVA;AAgBA;AACA;AAAA;AACA;;;;AA1FA;AACA;AA4FA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;;;;A","sourceRoot":""}